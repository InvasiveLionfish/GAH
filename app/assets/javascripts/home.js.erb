$(document).ready(function(){

 $('#join-game').click(function(e) {
      e.stopPropagation();
      joinGameCall();
  });

 $('#start-game').click(function(e) {
      e.stopPropagation();
      startGameCall();
  });

 $('#have_accnt').click(function(e) {
      e.stopPropagation();

      $('.member-registration').attr('id','switch_swivel')
      $('.member-login').attr('id','switch_swivel')
      $('.member-registration').toggleClass('front_card')
      $('.member-registration').toggleClass('back_card')
      $('.member-login').toggleClass('back_card')
      $('.member-login').toggleClass('front_card')
     
      // change id from front_end to back end
  });

$('#dont_have_accnt').click(function(e) {
      e.stopPropagation();


      $('.member-registration').attr('id','switch_swivel')
      $('.member-login').attr('id','switch_swivel')
      $('.member-registration').toggleClass('front_card')
      $('.member-registration').toggleClass('back_card')
      $('.member-login').toggleClass('back_card')
      $('.member-login').toggleClass('front_card')

      // change id from front_end to back end
  });





function joinGameCall() {
    var username = $("#username").val()
    var existing_game_number= $("#existing_game_number").val()
    
    
    $.post({
      url: '/sessions',
      method: 'POST', 
      data: {username: username, existing_game_number: existing_game_number},
      success: function(response){ window.location.href='/games/'+existing_game_number
      
      }
    })
  }



  function startGameCall() {
    var username = $("#username").val()
    
    
    $.post({
      url: '/games',
      method: 'POST', 
      data: {username: username},
      success: function(response){ 
        
        window.location.href=response["game"]
      
      }
    })
  }


})
